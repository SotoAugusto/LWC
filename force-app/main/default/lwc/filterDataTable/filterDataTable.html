<!--
 - Created by ausoto on 2024-08-19.
 -->

<!-- Filter Data Table -->
<template>
    <lightning-card title="Accounts Card" icon-name="standard:account" >
        <div class=slds-m-around_medium>
<!--            <lightning-input type="search" data-name="billingAddress" label="Billing Address" onchange={handleExtraFields} placeholder="Add extra fields"> </lightning-input>-->

            <lightning-input type="search"
                             data-name="searchAccount"
                             label="Search Account"
                             onchange={handleSearch}
                             placeholder="Search by any field"> </lightning-input>
            <!--Render Lists-->
            <template for:each={accountInputFields} for:item="input">
                <lightning-input
                        key={input.Id}
                        label={input.label}
                        type="search"
                        data-name={input.dataName}
                        onchange={handleAccountInputFields}
                        placeholder="Add extra filter"></lightning-input>
            </template>

            <lightning-button
                    class="slds-p-around_large slds-m-around_medium"
                    variant="neutral"
                    label="Search records"
                    onclick={handleSubmit}>
            </lightning-button>

                <template if:true={availableAccounts}>
                    <lightning-datatable
                            key-field="Id"
                            data={availableAccounts}
                            columns={columns}
                            show-row-number-column="true"
                            hide-checkbox-column="true"
                            onrowaction={handleRowAction}
                            onsave={handleSave}
                            draft-values={draftValues}>
                    </lightning-datatable>
                </template>
                <template if:true={error}>
                    {error}
                </template>
        </div>
    </lightning-card>
</template>